{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/nathan/Desktop/showStack/app/explore/page.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useEffect, useState } from \"react\";\nimport Link from \"next/link\";\n\n// Type User basé sur le schéma Drizzle (simplifié pour l'affichage actuel)\n// drizzle/db/schema.ts contient: id, name, email, emailVerified, image, description, createdAt, updatedAt\ntype User = {\n  id: string;\n  name: string | null; // name est notNull dans le schéma, mais gardons null pour la flexibilité\n  email: string | null; // email est notNull, unique\n  image: string | null;\n  // emailVerified?: boolean;\n  // description?: string | null;\n  // createdAt?: Date | string; // Les dates peuvent être des string après sérialisation JSON\n  // updatedAt?: Date | string;\n};\n\nexport default function ExplorePage() {\n  const [users, setUsers] = useState<User[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  useEffect(() => {\n    async function fetchUsers() {\n      setLoading(true);\n      setError(null);\n      try {\n        const response = await fetch(\"/api/users\");\n        if (!response.ok) {\n          throw new Error(`API request failed with status ${response.status}`);\n        }\n        const data: User[] = await response.json();\n        setUsers(data);\n      } catch (err) {\n        console.error(\"Failed to fetch users:\", err);\n        if (err instanceof Error) {\n          setError(`Could not load users: ${err.message}`);\n        } else {\n          setError(\"Could not load users. An unknown error occurred.\");\n        }\n      } finally {\n        setLoading(false);\n      }\n    }\n    fetchUsers();\n  }, []);\n\n  return (\n    <main className=\"container max-w-4xl mx-auto px-4 py-12 md:py-16 min-h-screen\">\n      <h1 className=\"text-4xl font-bold mb-10 text-center tracking-tight\">\n        Explore Our Community\n      </h1>\n\n      {loading && (\n        <div className=\"text-center py-10\">\n          {/* Vous pouvez ajouter un composant Spinner ici si vous en avez un */}\n          <div className=\"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary\"></div>\n          <p className=\"text-lg mt-4\">Loading users...</p>\n        </div>\n      )}\n\n      {error && (\n        <div className=\"text-center py-10 text-red-500 bg-red-500/10 p-6 rounded-lg\">\n          <p className=\"text-xl font-semibold\">Oops! Something went wrong.</p>\n          <p className=\"text-md mt-2\">{error}</p>\n        </div>\n      )}\n\n      {!loading && !error && users.length === 0 && (\n        <div className=\"text-center py-10\">\n          <p className=\"text-lg text-muted-foreground\">\n            No users found at the moment. Be the first to join!\n          </p>\n        </div>\n      )}\n\n      {!loading && !error && users.length > 0 && (\n        <div className=\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6 xl:gap-8\">\n          {users.map((user) => (\n            <UserCard key={user.id} user={user} />\n          ))}\n        </div>\n      )}\n    </main>\n  );\n}\n\ntype UserCardProps = {\n  user: User;\n};\n\nfunction UserCard({ user }: UserCardProps) {\n  const displayName = user.name || \"Anonymous User\";\n  const displayEmail = user.email;\n\n  return (\n    <Link href={`/profile/${user.id}`} passHref legacyBehavior>\n      <a className=\"bg-card border border-border rounded-xl overflow-hidden shadow-md hover:shadow-lg transition-all duration-300 ease-in-out flex flex-col items-center p-6 text-center h-full transform hover:-translate-y-1 no-underline hover:border-primary/50\">\n        {user.image ? (\n          <div className=\"w-20 h-20 rounded-full overflow-hidden flex items-center justify-center mb-5 border-2 border-primary/30 shadow-sm\">\n            <img\n              src={user.image}\n              alt={`${displayName}'s avatar`}\n              className=\"w-full h-full object-cover\"\n            />\n          </div>\n        ) : (\n          <div className=\"w-20 h-20 rounded-full mb-5 bg-muted flex items-center justify-center text-muted-foreground text-4xl font-semibold border-2 border-primary/30 shadow-sm\">\n            {displayName.charAt(0).toUpperCase()}\n          </div>\n        )}\n        <h2\n          className=\"text-xl font-semibold mb-1 text-card-foreground w-full truncate\"\n          title={displayName}\n        >\n          {displayName}\n        </h2>\n        {displayEmail && (\n          <p\n            className=\"text-sm text-muted-foreground w-full truncate\"\n            title={displayEmail}\n          >\n            {displayEmail}\n          </p>\n        )}\n      </a>\n    </Link>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AAHA;;;;AAkBe,SAAS;IACtB,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAU,EAAE;IAC7C,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAiB;IAElD,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,eAAe;YACb,WAAW;YACX,SAAS;YACT,IAAI;gBACF,MAAM,WAAW,MAAM,MAAM;gBAC7B,IAAI,CAAC,SAAS,EAAE,EAAE;oBAChB,MAAM,IAAI,MAAM,CAAC,+BAA+B,EAAE,SAAS,MAAM,EAAE;gBACrE;gBACA,MAAM,OAAe,MAAM,SAAS,IAAI;gBACxC,SAAS;YACX,EAAE,OAAO,KAAK;gBACZ,QAAQ,KAAK,CAAC,0BAA0B;gBACxC,IAAI,eAAe,OAAO;oBACxB,SAAS,CAAC,sBAAsB,EAAE,IAAI,OAAO,EAAE;gBACjD,OAAO;oBACL,SAAS;gBACX;YACF,SAAU;gBACR,WAAW;YACb;QACF;QACA;IACF,GAAG,EAAE;IAEL,qBACE,8OAAC;QAAK,WAAU;;0BACd,8OAAC;gBAAG,WAAU;0BAAsD;;;;;;YAInE,yBACC,8OAAC;gBAAI,WAAU;;kCAEb,8OAAC;wBAAI,WAAU;;;;;;kCACf,8OAAC;wBAAE,WAAU;kCAAe;;;;;;;;;;;;YAI/B,uBACC,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAE,WAAU;kCAAwB;;;;;;kCACrC,8OAAC;wBAAE,WAAU;kCAAgB;;;;;;;;;;;;YAIhC,CAAC,WAAW,CAAC,SAAS,MAAM,MAAM,KAAK,mBACtC,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBAAE,WAAU;8BAAgC;;;;;;;;;;;YAMhD,CAAC,WAAW,CAAC,SAAS,MAAM,MAAM,GAAG,mBACpC,8OAAC;gBAAI,WAAU;0BACZ,MAAM,GAAG,CAAC,CAAC,qBACV,8OAAC;wBAAuB,MAAM;uBAAf,KAAK,EAAE;;;;;;;;;;;;;;;;AAMlC;AAMA,SAAS,SAAS,EAAE,IAAI,EAAiB;IACvC,MAAM,cAAc,KAAK,IAAI,IAAI;IACjC,MAAM,eAAe,KAAK,KAAK;IAE/B,qBACE,8OAAC,4JAAA,CAAA,UAAI;QAAC,MAAM,CAAC,SAAS,EAAE,KAAK,EAAE,EAAE;QAAE,QAAQ;QAAC,cAAc;kBACxD,cAAA,8OAAC;YAAE,WAAU;;gBACV,KAAK,KAAK,iBACT,8OAAC;oBAAI,WAAU;8BACb,cAAA,8OAAC;wBACC,KAAK,KAAK,KAAK;wBACf,KAAK,GAAG,YAAY,SAAS,CAAC;wBAC9B,WAAU;;;;;;;;;;yCAId,8OAAC;oBAAI,WAAU;8BACZ,YAAY,MAAM,CAAC,GAAG,WAAW;;;;;;8BAGtC,8OAAC;oBACC,WAAU;oBACV,OAAO;8BAEN;;;;;;gBAEF,8BACC,8OAAC;oBACC,WAAU;oBACV,OAAO;8BAEN;;;;;;;;;;;;;;;;;AAMb","debugId":null}}]
}